SET (GDAL_HOME ../../../../include/gdal)
SET (MONGO_HOME ../../../../include/mongo-c-driver)
SET (LIB_DIR ../../../../lib)
LINK_DIRECTORIES(${GDAL_HOME}/lib ${LIB_DIR} ${PROJECT_BINARY_DIR})
INCLUDE_DIRECTORIES(../../../base/util ../../../base/data ../../../base/module_setting ${MONGO_HOME} ${GDAL_HOME}/include)
SET(SRC_LIST ../../../base/util/SimulationModule.cpp ImplicitKinematicWave.cpp api.cpp)  #../../../base/data/clsRasterData.cpp)
SET(LIBRARY_OUTPUT_PATH ${PROJECT_BINARY_DIR})
ADD_LIBRARY(IKW_OL SHARED ${SRC_LIST})
#TARGET_LINK_LIBRARIES(IKW_OL libutil.so)
TARGET_LINK_LIBRARIES(IKW_OL util module_setting)
SET_TARGET_PROPERTIES( IKW_OL PROPERTIES COMPILE_FLAGS "/openmp")
SET_PROPERTY(TARGET IKW_OL PROPERTY FOLDER "modules/hydrology")